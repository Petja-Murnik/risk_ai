schema: '2.0'
stages:
  split:
    cmd: python split.py --data_path /Users/pauldev/delo/projects/risk-ai-workshop/notebooks/data/default.csv
    deps:
    - path: ../../notebooks/data/default.csv
      md5: d715df1be2dc95e252c4a46d0432d042
      size: 60026
    - path: split.py
      md5: 7721a93bfff7ab7edc277e3a517ee89b
      size: 2966
    params:
      params.yaml:
        split.file_read_params:
          delimiter: ','
        split.non_target_cols:
        - gender
        - occupation
        split.seed: 42
        split.target_col: default
        split.test_ratio: 0.2
        split.train_ratio: 0.4
    outs:
    - path: ../../notebooks/data/split
      md5: f5919c6851e633951b660ff4bfc00709.dir
      size: 60078
      nfiles: 6
  fit_train:
    cmd: python fit.py --stage_name fit_train
    deps:
    - path: ../../notebooks/data/split
      md5: f5919c6851e633951b660ff4bfc00709.dir
      size: 60078
      nfiles: 6
    - path: fit.py
      md5: 2f7e075d549f749e1a47e89282c75842
      size: 1473
    params:
      params.yaml:
        fit_train.data_in_folder: split
        fit_train.feature_filename: X-train.csv
        fit_train.file_read_params:
          delimiter: ','
        fit_train.model_params:
          logistic_regression:
            name: LogisticRegression
            hyperparams:
              C: 1
          decision_tree_classifier:
            name: DecisionTreeClassifier
            hyperparams:
              criterion: gini
        fit_train.seed: 42
    outs:
    - path: ../../notebooks/data/fit_train
      md5: 12444aa79a8c4d2830aa58ce4d5afbee.dir
      size: 3085
      nfiles: 2
  evaluate_fit_train:
    cmd: python evaluate.py --stage_name evaluate_fit_train
    deps:
    - path: ../../notebooks/data/fit_train
      md5: 12444aa79a8c4d2830aa58ce4d5afbee.dir
      size: 3085
      nfiles: 2
    - path: ../../notebooks/data/split
      md5: f5919c6851e633951b660ff4bfc00709.dir
      size: 60078
      nfiles: 6
    - path: evaluate.py
      md5: 799f8592e0a64fc8f4d6153cc4200f50
      size: 2002
    params:
      params.yaml:
        evaluate_fit_train.data_in_folder: split
        evaluate_fit_train.feature_filename: X-validate.csv
        evaluate_fit_train.file_read_params:
          delimiter: ','
        evaluate_fit_train.model_in_folder: fit_train
        evaluate_fit_train.target_filename: y-validate.csv
    outs:
    - path: ../../notebooks/data/evaluate_fit_train
      md5: 741ce2d0f19d058f472a3e56e3377990.dir
      size: 78
      nfiles: 2
